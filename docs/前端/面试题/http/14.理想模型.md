# 七层和四层的区别，真正做了哪些事情

## OSI

> OSI Open System Interconnection 七层，是理想化概念模型, 为网络划分的层次，专人做专事

## 七层

- 应用层：微信 qq
- 表示层：数据描述压缩，整理表达
- 会话层：创建管理会话
- 传输层：组装数据 丢了要不要重传
- 网络层：ip 地址
- 数据链路层：mac 地址 两个设备的连接
- 物理层： 只关心传输数据 0 1 比特流

## 四层

- 应用层
- 传输层
- 网络层
- 网络接口层

## 七层协议真正做的事情

- 应用层：报文
- 传输层：数据段 + 端口号
- 网络层：数据包 + 端口号 + ip
- 数据链路：数据帧 + 端口号 + mac 地址

## IPV4 最大值的，IPV6 组成

- IPV4

  - ip 的第四个版本 IPV4 长度是 32 位(4 字节 ) 2^32-1 = 4294967295
  - 十进制最大：255.255.255.255
  - 二进制：11111111.11111111.11111111.11111111

- IPV6

  - 十进制
    0000-0000-0000-0000
    0000-0000-0000-0000
  - 二进制：128 位 bits(16 bytes 字节 )
    11111111.11111111.11111111.11111111
    11111111.11111111.11111111.11111111
    11111111.11111111.11111111.11111111
    11111111.11111111.11111111.11111111

- 为什么仍在使用 IPV4
  - ipv4 和 ipv6 不能够通信, ipv6 集成和适配很复杂

## Mac 地址怎么产生，怎么查找到

- 原则唯一，每个网卡都会有一个，通过 ip 查找 ARP 协议

## 设备有哪些

- 物理层：光纤、网线、中继器、集线器
  - 中继器
    - 背景：随着网线越来越长，接受方信息有损耗
    - 功能：重新发送或者转发，有放大再生信号，传输更远，扩大通信距离。
    - 作用：两个完全相同的网络互连
  - 集线器
    - 功能：再生整形放大，把所有节点集中在以它为中心的节点上
    - 方式：广播，不安全因素，可截取它人数据包
- 链路层：交换机 局域网通信
  - 交换机：内部交换矩阵，把数据包直接而迅速地传送到目的节点而非所有节点
- 网络层：
  - 路由器，wan 口当网关上网，没有 wan 口可当作交换机

## 协议有哪些

- 应用层 HTTP DNS DHCP
  - DHCP 动态主机配置协议，自动分配 ip, 基于 UDP
- 传输层 TCP UDP
- 网络层 IP ARP
