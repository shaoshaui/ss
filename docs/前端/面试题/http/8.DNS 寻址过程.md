# DNS 寻址过程

域名服务 Domain Name Systemk,

- 找浏览器缓存
- 操作系统缓存会对 DNS 解析结果做缓存
- host
- 路由内置 DNS 缓存 或者 配置的 DNS 服务器 0.0.0.0、8.8.8.8
- 互联网服务器提供商（ISP）本地 DNS(LDNS), 缓存中查找，命中返回，没命中递归查询
  (主机名.次级域名.顶级域名.根域名)

  - 从根域名(.)查到顶级域名(com)
  - 从顶级域名(com)查找到次级域名(baidu)
  - 根据次级域名(baidu)查找出主机名的 ip 地址(www)
  - LDNS 会缓存这个域名和对应的 ip

- 递归：用户只发送一次请求，要求对方给出最终结果
- 迭代：用户发出一次请求，对方如果没有授权回答，它就会返回一个能解答这个查询的其他名称服务器列表
  客户端在像列表发送请求，直到找到最终负责所查域名的名称服务器，从它的到结果

从递归和迭代查询可以看出：

客户端-本地 dns 服务端：这部分属于递归查询。
本地 dns 服务端---外网：这部分属于迭代查询

## DNS 为什么快

无连接 UPD, 每一步都有缓存

## 几级域名

www.test.com 二级
www.test.com.cn 三级
几个点就是几级
